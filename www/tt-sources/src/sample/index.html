[% INCLUDE header.html
   title = 'VectorBase Population Browser - Sample'
   js = [ 'https://ajax.googleapis.com/ajax/libs/prototype/1.7.0.0/prototype.js', 'js/config.js', 'js/phenovis-0.01.js', 'js/frontend.js' ]
%]

<div id="sample">

  <h1 class="vbpg_progress"></h1>

  <div class="vbpg_object_info sample hide_on_load" id="sample_info">
    <h1>Sample: <span class="object_value scalar" id="name"></span></h1>
    <table>
      <tr>
	<th class="row_heading">VectorBase stable ID</th>
	<td class="object_value scalar" id="id"></td>
      </tr>
      <tr>
	<th class="row_heading">description</th>
	<td class="object_value scalar na_if_empty" id="description"></td>
      </tr>
      <tr>
        <th class="row_heading">species</th>
        <td class="object_value cvterm species_name" id="species"></td>
      </tr>
    </table>
    <table class="nested_props_list no_shading">
      <tr class="list_row_template">
        <th class="row_heading prop_type" delimiter=", "></th>
        <td class="prop_value"></td>
      </tr>
    </table>
  </div>

[% INCLUDE 'list/assays.html' id='sample_assays' %]

[% INCLUDE 'list/projects.html' id='sample_projects' %]

</div>
  
<script type="text/javascript">
  params = document.location.search.toQueryParams();
  if (params.id && params.id.match("^VBS[0-9]{7}$")) {
    var spinner = $('sample').down('.vbpg_progress');
	  getObject('sample/'+params.id+'/head', spinner,
                    function(stock){ updateSampleFull(stock, $('sample')); }
                   );

  } else {
     $('sample').down('div.vbpg_progress').update("Please provide	the <tt>id</tt> URL parameter.").setStyle({ textAlign: 'center', width: '100%', background: 'pink' });
  }
</script>

[% INCLUDE footer.html %]
