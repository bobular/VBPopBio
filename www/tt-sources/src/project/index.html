[% INCLUDE header.html
   title = 'VectorBase Population Browser - Project'
   js = [
'https://ajax.googleapis.com/ajax/libs/prototype/1.7.0.0/prototype.js', 'js/config.js', 'js/phenovis-0.01.js', 'js/frontend.js', 'js/protovis-d3.2.js', 'https://maps.google.com/maps/api/js?sensor=false' ]
%]
<div id="project_load_status"></div>

<div id="project">

  <h1 class="vbpg_progress"></h1>

  <div class="vbpg_object_info project hide_on_load" id="project_info">
    <h1>Project: <span class="object_value scalar" id="name"></span></h1>
    <table>
      <tr>
	<th class="row_heading">VectorBase stable ID</th>
	<td class="object_value scalar" id="id"></td>
      </tr>
      <tr>
	<th class="row_heading">external ID</th>
	<td class="object_value scalar" id="external_id"></td>
      </tr>
      <tr>
	<th class="row_heading">name</th>
	<td class="object_value scalar" id="name"></td>
      </tr>
      <tr>
	<th class="row_heading">description</th>
	<td class="object_value scalar na_if_empty" id="description"></td>
      </tr>
      <tr>
        <th class="row_heading">contact(s)</th>
        <td class="object_value comma_separated" id="contacts"></td>
      </tr>
      <tr>
	<th class="row_heading">submission date</th>
	<td class="object_value scalar na_if_empty date" id="submission_date"></td>
      </tr>
      <tr>
	<th class="row_heading">public release date</th>
	<td class="object_value scalar na_if_empty date" id="public_release_date"></td>
      </tr>
      <tr>
	<th class="row_heading">receipt date</th>
	<td class="object_value scalar date" id="creation_date"></td>
      </tr>
      <tr>
	<th class="row_heading">last modified date</th>
	<td class="object_value scalar date" id="last_modified_date"></td>
      </tr>
    </table>
    <table class="nested_props_list no_shading">
      <tr class="list_row_template">
        <th class="row_heading prop_type" delimiter=", "></th>
        <td class="prop_value"></td>
      </tr>
    </table>

    <div class="nested_object_list" id="publications">
      <h3>Publications</h3>
      <div class="publications">
        <div class="list_row_template publication">
          <div>
	    <a class="object_value href" href="http://dx.doi.org/####" id="doi"><span class="object_value scalar capitalize" id="title"></span></a>
	  </div>
          <div class="object_value comma_separated" id="authors"></div>
          <div>
	    <a class="object_value href" href="http://www.ncbi.nlm.nih.gov/pubmed/####" id="pubmed_id">PubMed</a>
	  </div>
        </div>
      </div>
    </div>
  </div>

  <div class="vbpg_object_list visualisation hide_on_load" id="project_visualisations">
    <h2>Graphical summary</h2>
    <div class="list_row_template">
      <h3 class="object_value scalar" id="title"></h3>
      <div class="sandbox hide_on_load">
        <form>
          <textarea cols=100 rows=8>Visualisation configuration will appear here...</textarea>
        </form>
      </div>
      <div class="vis_container">
        <div class="vis_panel"><img src="[% root_static %]vbpg_images/bigrotation2.gif" width="32" height="32"/></div>
      </div>
    </div>
  </div>

  <!-- to do: props, pubs, contacts, metaproject relationships? -->
  
[% INCLUDE 'list/samples.html' id='project_stocks' %]

</div>
  
<script type="text/javascript">
  params = document.location.search.toQueryParams();
  if (params.id && params.id.match("^VBP[0-9]{7}$")) {
    var spinner = $('project').down('.vbpg_progress');
	  getObject('project/'+params.id+'/head', spinner,
                function(project){updateProjectFull(project, $('project'), params.sandbox); }
               );
  } else {
     $('project').down('div.vbpg_progress').update("Please provide	the <tt>id</tt> URL parameter.").setStyle({ textAlign: 'center', width: '100%', background: 'pink' });
  }
</script>

[% INCLUDE footer.html %]
